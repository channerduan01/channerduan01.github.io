#系统内存的 堆（Heap）与 栈（Stack）

**堆栈空间分配区别：**  

- 栈（操作系统）：由操作系统自动分配释放，存放函数的参数值，局部变量的值等。其操作方式类似于数据结构中的栈；
- 堆（操作系统）：一般由程序员动态分配释放，若程序员不释放，程序结束时可能由OS回收，分配方式倒是类似于链表。
- 静态数据：一些定义的全局变量、静态变量、常量由操作系统直接分配

**堆栈缓存方式区别：**  

- 栈使用的是连续的存储空间，调用完毕立即释放；
- 堆使用的是不连续的存储空间，性能低于栈（也有人说栈会用一级缓存，堆使用二级缓存）；C/C++使用堆时可能会因为没有及时回收，造成内存泄漏；Java中对象生命周期由虚拟机的垃圾回收算法来决定（并不是一旦成为孤儿对象就能被回收）

**堆栈数据结构区别：**  

- 堆（数据结构）：堆可以被看成是一棵树，如：堆排序；
- 栈（数据结构）：一种先进后出的数据结构。

#线程与进程的区别
**通常把进程作为分配资源的基本单位，而把线程作为独立运行和独立调度的基本单位；**一个程序至少有一个进程，一个进程至少有一个线程；进程由 进程控制块PCB、程序段、数据集组成，并且系统将为其准备一切上下文资源如各类外设；当进程资源就绪，调入CPU时，需要载入其整个上下文，处理后，再保存整个上下文，切换成本很大；而线程 虽然也有自己的 线程控制块TCB，但是要比进程轻量的多，其没有自己的地址空间，而是和进程内其他线程分享这个进程内的资源。 

由于线程比进程更小，基本上不拥有系统资源，故对它的调度所付出的开销就会小得多，能更高效的提高系统内多个程序间并发执行的程度

#TCP
基本术语：**SYN（Synchronous）、ACK（Acknowledge）、FIN（Finish）、Seq（Sequence）** 双向通道建立过程需要三次握手，断开过程需要四次挥手（由于是双向通道，为确保 被动方数据发送完成，所以需要四次挥手）
##三次握手
- Client 向 Server 发送 SYN=1 附带 Seq X  
- Server 回复 ACK 附带 X+1，以及 SYN=1 附带 Seq Y  
- Client 回复 ACK 附带 Y+1  
##四次挥手
- Client 向 Server 发送 FIN=1 附带 Seq X
- Server 回复 ACK 附带 X+1
- Server 在确认数据通道可以关闭后，向 Client 发送 FIN=1 附带 Seq Y
- Client 回复 Server ACK 附带 Y+1

#多线程对共享资源的访问
- 互斥锁（mutex lock）；其只能为 0 或 1，用于控制保护某些资源只能被一个线程访问  
- 自旋锁（spin lock）；和 互斥锁类似，只有 0 或 1；区别在于 互斥锁 会让等待着进入睡眠状态，而 自旋锁 让等待者持续循环再尝试；缺点是大量消耗 CPU资源；但是如果锁被持有的时间很短，那么 自旋锁 是很有效的，它避免了长时间的睡眠等待
- 信号量；可以为 0 或 任意非负整数，如果设置为 1 的话，将等效于 mutex；信号量更灵活，其重点在于流程控制，协调对资源的访问；互斥量的加锁和解锁必须由同一线程分别对应使用，信号量可以由一个线程释放，另一个线程得到
- 原子操作；由相关平台、系统提供，保证某一个操作在CPU上一次性完成执行，不会被其他线程影响

#进程间通信 IPC（Inter-Process Communication）
- 管道（pipe）和有名管道（FIFO）
- 信号（signal）
- 消息队列
- 共享内存
- 信号量
- 套接字（socket)


























































































































































































































































































































































































































































 

























































































































































